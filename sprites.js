// Minimal sprite set + renderer. Falls back gracefully if name unknown.

function spriteFromMatrix(mat, fg="#1a3f2a", bg=null){ return {mat, fg, bg}; }
const PIX = (rows, color="#1a3f2a") => spriteFromMatrix(rows.map(r=>r.padEnd(22,"0")), color);

export const SPRITES = {
  Placeholder: PIX([
"0000000000000000000000","0000000011111100000000","0000001111111111000000","0000011111111111100000",
"0000111111111111110000","0001111111111111111000","0001111111111111111000","0001111111111111111000",
"0001111111111111111000","0001111111111111111000","0001111111111111111000","0001111111111111111000",
"0001111111111111111000","0001111111111111111000","0000111111111111110000","0000011111111111100000",
"0000001111111111000000","0000000011111100000000","0000000000000000000000",
  ]),
  Budmon: PIX([
"0000000000100000000000","0000000001110000000000","0000000011111000000000","0000000111111100000000",
"0000000011111000000000","0000000111111100000000","0000001111111110000000","0000011111111111000000",
"0000011111111111000000","0000001111111110000000","0000000011111000000000","0000000010010000000000",
"0000000001110000000000","0000000001110000000000","0000000000100000000000",
  ], "#a3134b"),
  Roseling: PIX([
"0000000001110000000000","0000000011111000000000","0000000111111100000000","0000001111111110000000",
"0000011111111111000000","0000111111111111100000","0000011111111111000000","0000001111111110000000",
"0000000011111000000000","0000000101110100000000","0000000001110000000000","0000000010011000000000",
  ], "#b71b58"),
  Agumon: PIX([
"0000000001111000000000","0000000111111110000000","0000011111111111000000","0000111111111111100000",
"0001111110011111110000","0011111100011111111000","0111111111111111111100","1111111111111111111110",
"1111101111111111011110","1111100111111100011110","0111111111111111111100","0011111111111111111000",
  ]),
};

export function drawSprite(ctx, name, size=72){
  const spr = SPRITES[name] || SPRITES.Placeholder;
  const scale = Math.floor(size / 22);
  ctx.clearRect(0,0,size,size);
  for(let y=0;y<spr.mat.length;y++){
    const row=spr.mat[y];
    for(let x=0;x<row.length;x++){
      if(row[x]==='1'){ ctx.fillStyle=spr.fg; ctx.fillRect(x*scale,y*scale,scale,scale); }
      else if(spr.bg){ ctx.fillStyle=spr.bg; ctx.fillRect(x*scale,y*scale,scale,scale); }
    }
  }
}