// src/sprites.js — sprite set + renderer (22×22 matrices, scaled)
function spriteFromMatrix(mat, fg = "#1a3f2a", bg = null) { return { mat, fg, bg }; }
const PIX = (rows, color = "#1a3f2a") => spriteFromMatrix(rows.map(r => r.padEnd(22, "0")), color);

// POWER line
const Botamon = PIX([
"0000000011100000000000","0000001111111000000000","0000111111111110000000","0001111111111111000000",
"0011111111111111100000","0011111111111111100000","0111111111111111110000","0111111111111111110000",
"0111111011110111110000","0111111001100111110000","0111111100001111110000","0111111111111111110000",
"0011111111111111100000","0011111111111111100000","0001111111111111000000","0000111111111110000000",
"0000011111111100000000","0000000111110000000000","0000000011100000000000",
]);
const Koromon = PIX([
"0000000011100000000000","0000001111111000000000","0000111111111110000000","0001111111111111000000",
"0011110011110011100000","0111100001100001110000","0111000011110000110000","1111100111110011111000",
"1111111111111111111000","1110111111111111101100","1110111011110111011100","1111111111111111111100",
"1111111011110111111100","0111111111111111111000","0011111111111111110000","0001111111111111100000",
"0000111111111111000000","0000011111111110000000","0000000111111000000000",
]);
const Agumon = PIX([
"0000000001111000000000","0000000111111110000000","0000011111111111000000","0000111111111111100000",
"0001111110011111110000","0011111100011111111000","0111111001111111111100","0111111111111111111100",
"1111111111111111111110","1111111111111111111110","1111101111111111011110","1111100111111100011110",
"1111111001111001111110","0111111110000011111100","0111111111111111111100","0011111111111111111000",
"0001111111111111110000","0000111111111111100000","0000011111111111000000","0000000111111100000000",
]);
const Greymon = PIX([
"0000000000111110000000","0000000011111111100000","0000001111111111110000","0000011111111111111000",
"0000111111111111111100","0001111111001111111110","0011111110000111111110","0111111111111111111111",
"1111111111111111111111","1111111111111111111111","1111111011111110111111","1111111001111100011111",
"1111111111111111111111","0111111111111111111110","0111111111111111111110","0011111111111111111100",
"0001111111111111111000","0000111111111111110000","0000001111111111000000","0000000011111100000000",
]);
const MetalGreymon = PIX([
"0000000011111110000000","0000001111111111100000","0000111111111111111000","0001111111111111111100",
"0011111111111111111110","0111111110011111111111","1111111100001111111111","1111111111111111111111",
"1111111111111111111111","1111111111111111111111","1111111101111110111111","1111111000111100011111",
"1111111111111111111111","0111111111111111111110","0011111111111111111100","0001111111111111111000",
"0000111111111111110000","0000011111111111100000","0000000111111110000000","0000000001111100000000",
]);
const WarGreymon = PIX([
"0000000011111000000000","0000001111111110000000","0000111111111111100000","0001111111111111110000",
"0011111111111111111000","0111111111111111111100","1111111111111111111110","1111111111111111111110",
"1111111111111111111110","1111111111111111111110","1111111111111111111110","1111111111111111111110",
"1111111111111111111110","0111111111111111111100","0011111111111111111000","0001111111111111110000",
"0000111111111111100000","0000011111111111000000","0000000111111110000000","0000000001111100000000",
]);

// ROSE line
const Budmon = PIX([
"0000000000100000000000","0000000001110000000000","0000000011111000000000","0000000111111100000000",
"0000000111111100000000","0000000011111000000000","0000000111111100000000","0000001111111110000000",
"0000011111111111000000","0000011111111111000000","0000001111111110000000","0000000011111000000000",
"0000000010010000000000","0000000001110000000000","0000000001110000000000","0000000000100000000000",
"0000000000100000000000","0000000001110000000000","0000000011111000000000",
], "#a3134b");
const Roseling = PIX([
"0000000001110000000000","0000000011111000000000","0000000111111100000000","0000001111111110000000",
"0000011111111111000000","0000111111111111100000","0000111111111111100000","0000011111111111000000",
"0000001111111110000000","0000000111111100000000","0000000011111000000000","0000000011111000000000",
"0000000101110100000000","0000000101110100000000","0000000001110000000000","0000000001010000000000",
"0000000010011000000000","0000000100000100000000","0000001000000010000000",
], "#b71b58");
const Bloomon = PIX([
"0000000011101110000000","0000001111111111100000","0000011111111111110000","0000111111111111111000",
"0001111111111111111100","0001111111111111111100","0000111111111111111000","0000011111111111110000",
"0000001111111111100000","0000000111111111000000","0000000011111110000000","0000000001111100000000",
"0000000010101010000000","0000000001111100000000","0000000000101000000000","0000000000101000000000",
"0000000000101000000000","0000000001111100000000","0000000000101000000000",
], "#d92772");
const Thornmon = PIX([
"0000000111111110000000","0000011111111111100000","0000111111111111110000","0001111111111111111000",
"0011111111111111111100","0011111111111111111100","0001111111111111111000","0000111111111111110000",
"0000011111111111100000","0000001111111111000000","0000000111111110000000","0000000011111100000000",
"0000000101010100000000","0000000011101000000000","0000000001010000000000","0000000010011000000000",
"0000000100000100000000","0000001000000010000000","0000001000000010000000",
], "#e63b88");
const RoseKnight = PIX([
"0000000011111110000000","0000001111111111100000","0000111111111111110000","0001111111111111111000",
"0011111111111111111100","0111111111111111111110","1111111111111111111110","1111111111111111111110",
"1111111111111111111110","1111111111111111111110","1111111111111111111110","0111111111111111111100",
"0011111111111111111000","0001111111111111110000","0000111111111111100000","0000001111111110000000",
"0000000101110100000000","0000000010101000000000","0000000000100000000000",
], "#ff4f9c");

export const SPRITES = { Botamon, Koromon, Agumon, Greymon, MetalGreymon, WarGreymon, Budmon, Roseling, Bloomon, Thornmon, RoseKnight };

export function drawSprite(ctx, name, size = 72) {
  const spr = SPRITES[name] || SPRITES.Botamon;
  const scale = Math.floor(size / 22);
  ctx.clearRect(0, 0, size, size);
  for (let y = 0; y < spr.mat.length; y++) {
    const row = spr.mat[y];
    for (let x = 0; x < row.length; x++) {
      if (row[x] === '1') { ctx.fillStyle = spr.fg; ctx.fillRect(x*scale,y*scale,scale,scale); }
      else if (spr.bg)    { ctx.fillStyle = spr.bg; ctx.fillRect(x*scale,y*scale,scale,scale); }
    }
  }
}
